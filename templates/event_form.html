{% extends "base.html" %}

{% block title %}{{ event_name }} - Submit Attendance{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center min-vh-100">
  <div class="card shadow p-4 mx-auto" style="max-width: 500px;">
    <h3 class="card-title text-center mb-3 text-primary">{{ event_name }}</h3>

    <p class="text-center text-muted mb-4">
      {{ event_description }}<br>
      <small>
        Start: {{ event_start.strftime("%Y-%m-%d %H:%M") if event_start else "N/A" }}<br>
        End: {{ event_end.strftime("%Y-%m-%d %H:%M") if event_end else "N/A" }}
      </small>
    </p>

    {% if success %}
      <div class="alert alert-success text-center">{{ success }}</div>
      <div class="d-grid">
        <a href="{{ url_for('login') }}" class="btn btn-primary w-100">Back to Login</a>
      </div>
    {% else %}
      <form method="post">
        <div class="mb-3">
          <label class="form-label fw-semibold">Full Name</label>
          <input type="text" name="name" class="form-control" placeholder="Enter your full name" required>
        </div>
        <div class="mb-3">
          <label class="form-label fw-semibold">Employee ID</label>
          <input type="text" name="employee_id" class="form-control" placeholder="E.g. EMP123" required>
        </div>
        <div class="mb-3">
          <label class="form-label fw-semibold">Department</label>
          <input type="text" name="department" class="form-control" placeholder="E.g. IT Department" required>
        </div>
        <button type="submit" class="btn btn-primary w-100">Submit Attendance</button>
      </form>
    {% endif %}
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
